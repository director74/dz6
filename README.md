# Тестирование аутентификации

Эта коллекция проверяет работу аутентификации и авторизации в системе.

## Сценарий тестирования

1. Регистрация первого пользователя (статус 201)
2. Проверка запрета доступа к профилю без авторизации (статус 401/302)
3. Вход первого пользователя и получение cookie сессии
4. Получение профиля первого пользователя (проверка структуры ответа с полями data.id, data.username и др.)
5. Выход из системы
6. Регистрация второго пользователя
7. Вход второго пользователя 
8. Получение профиля второго пользователя
9. Проверка, что второй пользователь не имеет доступа к профилю первого (статус 403/404)

## Проверяемые данные

При получении профиля пользователя проверяется структура ответа:
```json
{
    "data": {
        "id": 1,
        "username": "testuser_...",
        "firstName": "Test",
        "lastName": "User",
        "email": "testuser@example.com"
    }
}
```

## Запуск тестов

```bash
newman run auth_test_collection.json --env-var "baseUrl=http://arch.homework"
```

## Требования

- Newman: `npm install -g newman`
- Работающее приложение на http://arch.homework 